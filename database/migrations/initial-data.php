<?php
/**
 * Initial Data Migration
 * database/migrations/initial-data.php
 */

// Prevent direct access
if (!defined('ABSPATH')) {
    exit;
}

/**
 * Insert initial configuration and training data
 */
function biic_insert_initial_configuration() {
    // Set default plugin options
    $default_options = array(
        'biic_chatbot_enabled' => true,
        'biic_auto_greeting' => true,
        'biic_welcome_message' => 'ржЖрж╕рзНрж╕рж╛рж▓рж╛ржорзБ ржЖрж▓рж╛ржЗржХрзБржо! ЁЯМЯ ржЖржорж┐ Banglay IELTS ржПрж░ AI рж╕рж╣рж╛ржпрж╝ржХред IELTS рж╕ржорзНржкрж░рзНржХрзЗ ржХрж┐ржЫрзБ ржЬрж╛ржирждрзЗ ржЪрж╛ржи?',
        'biic_chat_position' => 'bottom-right',
        'biic_chat_theme' => 'modern',
        'biic_max_message_length' => 1000,
        'biic_typing_speed' => 50,
        'biic_enable_sounds' => true,
        'biic_enable_animations' => true,
        'biic_business_hours' => array(
            'start' => '10:00',
            'end' => '18:00',
            'days' => array('monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday')
        ),
        'biic_lead_notifications' => true,
        'biic_notification_email' => get_option('admin_email'),
        'biic_analytics_enabled' => true,
        'biic_data_retention_days' => 365,
        'biic_allow_file_upload' => false,
        'biic_timezone' => 'Asia/Dhaka',
        'biic_rate_limit' => 10,
        'biic_auto_responses' => true,
        'biic_lead_scoring_enabled' => true,
        'biic_webhook_notifications' => false,
        'biic_seo_enabled' => true,
        'biic_structured_data_enabled' => true,
        'biic_db_version' => '1.0.0'
    );
    
    foreach ($default_options as $option_name => $option_value) {
        add_option($option_name, $option_value);
    }
    
    return true;
}

/**
 * Insert comprehensive training data for the chatbot
 */
function biic_insert_comprehensive_training_data() {
    global $wpdb;
    $table_prefix = $wpdb->prefix . 'biic_';
    
    $training_data = array(
        // Greetings
        array(
            'intent' => 'greeting',
            'example_input' => 'ржЖрж╕рзНрж╕рж╛рж▓рж╛ржорзБ ржЖрж▓рж╛ржЗржХрзБржо',
            'expected_response' => 'ржУржпрж╝рж╛рж▓рж╛ржЗржХрзБржо ржЖрж╕рзНрж╕рж╛рж▓рж╛ржо! ЁЯМЯ ржЖржорж┐ Banglay IELTS ржПрж░ AI рж╕рж╣рж╛ржпрж╝ржХред IELTS рж╕ржорзНржкрж░рзНржХрзЗ ржХрж┐ржЫрзБ ржЬрж╛ржирждрзЗ ржЪрж╛ржи?',
            'response_type' => 'text',
            'language' => 'bn'
        ),
        array(
            'intent' => 'greeting',
            'example_input' => 'рж╣рж╛ржЗ',
            'expected_response' => 'рж╣рзНржпрж╛рж▓рзЛ! ЁЯСЛ Banglay IELTS рждрзЗ рж╕рзНржмрж╛ржЧрждржоред ржЖржорж┐ ржЖржкржирж╛рж░ AI рж╕рж╣рж╛ржпрж╝ржХред ржХрж┐ржнрж╛ржмрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рждрзЗ ржкрж╛рж░рж┐?',
            'response_type' => 'text',
            'language' => 'bn'
        ),
        array(
            'intent' => 'greeting',
            'example_input' => 'Hello',
            'expected_response' => 'Hello! Welcome to Banglay IELTS. I\'m your AI assistant. How can I help you today?',
            'response_type' => 'text',
            'language' => 'en'
        ),
        
        // Course Inquiries
        array(
            'intent' => 'course_inquiry',
            'example_input' => 'IELTS ржХрзЛрж░рзНрж╕ рж╕ржорзНржкрж░рзНржХрзЗ ржЬрж╛ржирждрзЗ ржЪрж╛ржЗ',
            'expected_response' => 'ЁЯУЪ **Banglay IELTS ржХрзЛрж░рзНрж╕рж╕ржорзВрж╣:**\n\nЁЯОп **IELTS Comprehensive** (4.5 months, 50+ classes) - Beginner level\nЁЯОп **IELTS Focus** (3 months, 30+ classes) - Intermediate level\nЁЯОп **IELTS Crash** (1.5 months, 30+ classes) - Intensive\nЁЯОп **Online Course** (2 months, weekly 3/4 classes) - Live sessions\n\nржХрзЛржиржЯрж┐ рж╕ржорзНржкрж░рзНржХрзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирждрзЗ ржЪрж╛ржи?',
            'response_type' => 'text_with_options',
            'language' => 'bn',
            'entities' => json_encode(array('course_types' => array('comprehensive', 'focus', 'crash', 'online')))
        ),
        array(
            'intent' => 'course_inquiry',
            'example_input' => 'ржХрзЛржи ржХрзЛрж░рзНрж╕ ржЖржЫрзЗ',
            'expected_response' => 'ржЖржорж╛ржжрзЗрж░ рзкржЯрж┐ ржкрзНрж░ржзрж╛ржи IELTS ржХрзЛрж░рзНрж╕ рж░ржпрж╝рзЗржЫрзЗ:\n\n1я╕ПтГг **Comprehensive Course** - ржирждрзБржиржжрзЗрж░ ржЬржирзНржп рж╕ржорзНржкрзВрж░рзНржг ржкрзНрж░рж╕рзНрждрзБрждрж┐\n2я╕ПтГг **Focus Course** - ржоржзрзНржпржо рж╕рзНрждрж░рзЗрж░ ржЬржирзНржп\n3я╕ПтГг **Crash Course** - ржжрзНрж░рзБржд ржкрзНрж░рж╕рзНрждрзБрждрж┐\n4я╕ПтГг **Online Course** - рж▓рж╛ржЗржн ржЕржирж▓рж╛ржЗржи ржХрзНрж▓рж╛рж╕\n\nржХрзЛржиржЯрж┐ ржирж┐ржпрж╝рзЗ ржЖрж░рзЛ ржЬрж╛ржирждрзЗ ржЪрж╛ржи?',
            'response_type' => 'text',
            'language' => 'bn'
        ),
        
        // Course Fees
        array(
            'intent' => 'course_fee',
            'example_input' => 'ржХрзЛрж░рзНрж╕ ржлрж┐ ржХржд',
            'expected_response' => 'ЁЯТ░ **ржХрзЛрж░рзНрж╕ ржлрж┐ ржЬрж╛ржирждрзЗ:**\n\nЁЯУЮ **Direct Call:** +880 961 382 0821 (10 AM - 6 PM)\nЁЯМР **Online:** admission.banglayelts.com\n\nЁЯТб **ржмрж┐рж╢рзЗрж╖ рж╕рзБржмрж┐ржзрж╛:**\nтЬЕ ржХрзЛрж░рзНрж╕ ржорзНржпрж╛ржЯрзЗрж░рж┐ржпрж╝рж╛рж▓ ржлрзНрж░рж┐\nтЬЕ Mock tests included\nтЬЕ Expert teacher feedback\n\nржПржЦржиржЗ ржлрзНрж░рж┐ ржХржирж╕рж╛рж▓ржЯрзЗрж╢ржи ржирж┐ржи! ЁЯОп',
            'response_type' => 'text_with_actions',
            'language' => 'bn'
        ),
        array(
            'intent' => 'course_fee',
            'example_input' => 'ржлрж┐ ржХрзЗржоржи',
            'expected_response' => 'ржХрзЛрж░рзНрж╕ ржлрж┐ рж╕ржорзНржкрж░рзНржХрзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирждрзЗ ржЖржорж╛ржжрзЗрж░ Admission Office ржП ржХрж▓ ржХрж░рзБржи:\n\nЁЯУЮ **+880 961 382 0821**\nтП░ **рж╕ржоржпрж╝:** рж╕ржХрж╛рж▓ рззрзжржЯрж╛ - рж╕ржирзНржзрзНржпрж╛ рзмржЯрж╛\n\nржЕржержмрж╛ ржЕржирж▓рж╛ржЗржирзЗ ржЖржмрзЗржжржи ржХрж░рзБржи: admission.banglayelts.com',
            'response_type' => 'text',
            'language' => 'bn'
        ),
        
        // Contact Information
        array(
            'intent' => 'contact_info',
            'example_input' => 'ржлрзЛржи ржиржорзНржмрж░ ржжрж┐ржи',
            'expected_response' => 'ЁЯУЮ **ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рзБржи:**\n\nЁЯФе **рж╣ржЯрж▓рж╛ржЗржи:** +880 961 382 0821\nЁЯУз **ржЗржорзЗржЗрж▓:** info@biic.com.bd\nЁЯМР **ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯ:** banglayelts.com\nЁЯУН **ржарж┐ржХрж╛ржирж╛:** Rahman Heights, Uttara, Dhaka\n\nтП░ **рж╕ржоржпрж╝:** рж╕ржХрж╛рж▓ рззрзжржЯрж╛ - рж╕ржирзНржзрзНржпрж╛ рзмржЯрж╛ (рж░ржмрж┐-рж╢рзБржХрзНрж░)',
            'response_type' => 'contact_card',
            'language' => 'bn'
        ),
        array(
            'intent' => 'contact_info',
            'example_input' => 'ржпрзЛржЧрж╛ржпрзЛржЧ',
            'expected_response' => 'тШОя╕П **рждрж╛рзОржХрзНрж╖ржгрж┐ржХ ржпрзЛржЧрж╛ржпрзЛржЧ:**\n\nЁЯУ▒ **Mobile:** +880 961 382 0821\nЁЯТм **WhatsApp:** +880 961 382 0821\nЁЯУз **Email:** info@biic.com.bd\n\nЁЯПв **Office:** Rahman Heights, Plot-01, Uttara, Dhaka\nЁЯХЩ **ржЕржлрж┐рж╕ рж╕ржоржпрж╝:** рззрзж:рзжрзж AM - рзм:рзжрзж PM',
            'response_type' => 'text',
            'language' => 'bn'
        ),
        
        // Branch Locations
        array(
            'intent' => 'branch_location',
            'example_input' => 'ржарж┐ржХрж╛ржирж╛ ржЪрж╛ржЗ',
            'expected_response' => 'ЁЯУН **Banglay IELTS ржПрж░ рж╢рж╛ржЦрж╛рж╕ржорзВрж╣:**\n\nЁЯПв **ржврж╛ржХрж╛ (ржкрзНрж░ржзрж╛ржи ржХрж╛рж░рзНржпрж╛рж▓ржпрж╝):**\nRahman Heights, Plot-01, Uttara\n(IELTS Test Center + Training)\n\nЁЯПв **ржЪржЯрзНржЯржЧрзНрж░рж╛ржо рж╢рж╛ржЦрж╛:**\nGEC Circle area\n\nЁЯПв **рж╕рж┐рж▓рзЗржЯ рж╢рж╛ржЦрж╛:**\nAmbarkhana area\n\nЁЯУЮ **рж╕ржХрж▓ рж╢рж╛ржЦрж╛рж░ рж╣ржЯрж▓рж╛ржЗржи:** +880 961 382 0821',
            'response_type' => 'location_card',
            'language' => 'bn'
        ),
        array(
            'intent' => 'branch_location',
            'example_input' => 'ржХрзЛржерж╛ржпрж╝ ржЕржлрж┐рж╕',
            'expected_response' => 'ЁЯЧ║я╕П **ржЖржорж╛ржжрзЗрж░ ржЕржлрж┐рж╕ ржЕржмрж╕рзНржерж╛ржи:**\n\nЁЯУН **Main Campus:** Rahman Heights, Uttara, Dhaka\nЁЯУН **Chattogram:** GEC Circle\nЁЯУН **Sylhet:** Ambarkhana\n\nржЧрзБржЧрж▓ ржорзНржпрж╛ржкрзЗ "Banglay IELTS" рж▓рж┐ржЦрзЗ ржЦрзБржБржЬрзБржи ЁЯФН',
            'response_type' => 'text',
            'language' => 'bn'
        ),
        
        // Study Abroad
        array(
            'intent' => 'study_abroad',
            'example_input' => 'ржмрж┐ржжрзЗрж╢рзЗ ржкржбрж╝рждрзЗ ржЪрж╛ржЗ',
            'expected_response' => 'ЁЯМН **Study Abroad with BIIC:**\n\nтЬИя╕П **ржЧржирзНрждржмрзНржп:** UK, USA, Canada, Australia, Denmark, Finland\nЁЯОУ **рж╕рзЗржмрж╛:** University selection, Application, Visa processing\nЁЯУИ **рж╕рж╛ржлрж▓рзНржпрзЗрж░ рж╣рж╛рж░:** 95% visa approval\nЁЯПЫя╕П **ржкрж╛рж░рзНржЯржирж╛рж░:** 300+ global universities\nЁЯТ░ **Scholarship:** рж╕ржорзНржкрзВрж░рзНржг ржЧрж╛ржЗржбрзЗржирзНрж╕\n\nЁЯУЮ **ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд:** +880 961 382 0821',
            'response_type' => 'study_abroad_card',
            'language' => 'bn'
        ),
        array(
            'intent' => 'study_abroad',
            'example_input' => 'ржнрж┐рж╕рж╛ рж╕рж╛ржкрзЛрж░рзНржЯ',
            'expected_response' => 'ЁЯЫВ **ржнрж┐рж╕рж╛ рж╕рж╛ржкрзЛрж░рзНржЯ рж╕рзЗржмрж╛:**\n\nтЬЕ Document preparation\nтЬЕ Visa application guidance\nтЬЕ Interview preparation\nтЬЕ 95% success rate\nтЬЕ Complete support until visa\n\nржмрж┐ржирж╛ржорзВрж▓рзНржпрзЗ ржХржирж╕рж╛рж▓ржЯрзЗрж╢ржи ржирж┐ржи! ЁЯУЮ +880 961 382 0821',
            'response_type' => 'text',
            'language' => 'bn'
        ),
        
        // Admission Process
        array(
            'intent' => 'admission',
            'example_input' => 'ржнрж░рзНрждрж┐ рж╣рждрзЗ ржЪрж╛ржЗ',
            'expected_response' => 'ЁЯУЭ **ржнрж░рзНрждрж┐ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛:**\n\n1я╕ПтГг **ржлрзНрж░рж┐ ржХржирж╕рж╛рж▓ржЯрзЗрж╢ржи** ржирж┐ржи\n2я╕ПтГг **Level Assessment** ржЯрзЗрж╕рзНржЯ ржжрж┐ржи\n3я╕ПтГг **ржЙржкржпрзБржХрзНржд ржХрзЛрж░рзНрж╕** ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи\n4я╕ПтГг **Admission form** ржкрзВрж░ржг ржХрж░рзБржи\n5я╕ПтГг **ржлрж┐ ржкрзЗржорзЗржирзНржЯ** рж╕ржорзНржкржирзНржи ржХрж░рзБржи\n\nЁЯМР **ржЕржирж▓рж╛ржЗржи ржЖржмрзЗржжржи:** admission.banglayelts.com\nЁЯУЮ **рж╕рж░рж╛рж╕рж░рж┐:** +880 961 382 0821',
            'response_type' => 'process_card',
            'language' => 'bn'
        ),
        array(
            'intent' => 'admission',
            'example_input' => 'ржХрж┐ржнрж╛ржмрзЗ ржнрж░рзНрждрж┐ рж╣ржмрзЛ',
            'expected_response' => 'ЁЯОп **рж╕рж╣ржЬ ржнрж░рзНрждрж┐ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛:**\n\nЁЯУЮ ржкрзНрж░ржержорзЗ ржХрж▓ ржХрж░рзБржи: +880 961 382 0821\nЁЯПв ржЕржлрж┐рж╕ ржнрж┐ржЬрж┐ржЯ ржХрж░рзБржи ржмрж╛\nЁЯТ╗ ржЕржирж▓рж╛ржЗржирзЗ ржЖржмрзЗржжржи ржХрж░рзБржи\n\n**ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржХрж╛ржЧржЬржкрждрзНрж░:**\nтАв ржЫржмрж┐ (ржкрж╛рж╕ржкрзЛрж░рзНржЯ рж╕рж╛ржЗржЬ)\nтАв NID/Birth Certificate\nтАв Academic certificates\n\nржЖржЬржЗ рж╢рзБрж░рзБ ржХрж░рзБржи! ЁЯЪА',
            'response_type' => 'text',
            'language' => 'bn'
        ),
        
        // Course Duration
        array(
            'intent' => 'course_duration',
            'example_input' => 'ржХрзЛрж░рзНрж╕ ржХрждржжрж┐ржирзЗрж░',
            'expected_response' => 'тП░ **ржХрзЛрж░рзНрж╕рзЗрж░ рж╕ржоржпрж╝ржХрж╛рж▓:**\n\nЁЯУЪ **Comprehensive:** 4.5 ржорж╛рж╕ (50+ ржХрзНрж▓рж╛рж╕)\nЁЯОп **Focus:** 3 ржорж╛рж╕ (30+ ржХрзНрж▓рж╛рж╕)\nтЪб **Crash:** 1.5 ржорж╛рж╕ (30+ ржХрзНрж▓рж╛рж╕)\nЁЯТ╗ **Online:** 2 ржорж╛рж╕ (рж╕ржкрзНрждрж╛рж╣рзЗ 3/4 ржХрзНрж▓рж╛рж╕)\n\n**ржмрж┐рж╢рзЗрж╖ рж╕рзБржмрж┐ржзрж╛:** \nтАв Class miss рж╣рж▓рзЗ makeup class\nтАв 1 ржмржЫрж░ ржкрж░рзНржпржирзНржд support\nтАв Unlimited mock tests',
            'response_type' => 'duration_card',
            'language' => 'bn'
        ),
        
        // Schedule Information
        array(
            'intent' => 'schedule',
            'example_input' => 'ржХрзНрж▓рж╛рж╕ ржЯрж╛ржЗржо ржХрж┐',
            'expected_response' => 'ЁЯХР **ржХрзНрж▓рж╛рж╕рзЗрж░ рж╕ржоржпрж╝рж╕рзВржЪрзА:**\n\nЁЯМЕ **Morning Batch:** 8:00 AM - 10:00 AM\nЁЯМЮ **Day Batch:** 10:30 AM - 12:30 PM\nЁЯМЖ **Evening Batch:** 5:00 PM - 7:00 PM\nЁЯМЩ **Night Batch:** 7:30 PM - 9:30 PM\n\nЁЯУЕ **рж╕ржкрзНрждрж╛рж╣рзЗ:** 4-5 ржжрж┐ржи ржХрзНрж▓рж╛рж╕\nЁЯОп **Weekend Special:** рж╢рзБржХрзНрж░ ржУ рж╢ржирж┐ржмрж╛рж░\n\nржЖржкржирж╛рж░ рж╕рзБржмрж┐ржзрж╛ржоржд рж╕ржоржпрж╝ ржмрзЗржЫрзЗ ржирж┐ржи! тП░',
            'response_type' => 'schedule_card',
            'language' => 'bn'
        ),
        
        // Online Course
        array(
            'intent' => 'online_course',
            'example_input' => 'ржЕржирж▓рж╛ржЗржи ржХрзЛрж░рзНрж╕',
            'expected_response' => 'ЁЯТ╗ **ржЕржирж▓рж╛ржЗржи ржХрзЛрж░рзНрж╕рзЗрж░ ржмрж┐рж╢рзЗрж╖рждрзНржм:**\n\nЁЯФ┤ **Live Interactive Classes**\nЁЯУ▒ **Secret Mobile App** access\nЁЯУЪ **Unlimited Cambridge Mock Tests**\nЁЯСитАНЁЯПл **Expert teachers ржерзЗржХрзЗ feedback**\nтП░ **1 ржмржЫрж░ validity**\nЁЯУЮ **24/7 support**\n\n**ржХрзНрж▓рж╛рж╕ рж╕ржоржпрж╝:** рж╕ржкрзНрждрж╛рж╣рзЗ 3/4 ржжрж┐ржи\n**Duration:** 2 ржорж╛рж╕\n\nржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирзБржи: +880 961 382 0821',
            'response_type' => 'online_course_card',
            'language' => 'bn'
        ),
        
        // IELTS General Information
        array(
            'intent' => 'ielts_general',
            'example_input' => 'IELTS ржХрж┐',
            'expected_response' => 'ЁЯУЦ **IELTS рж╕ржорзНржкрж░рзНржХрзЗ:**\n\nЁЯОп **IELTS** = International English Language Testing System\nЁЯМН **ржмрж┐рж╢рзНржмрзЗрж░** рж╕ржмржЪрзЗржпрж╝рзЗ ржЬржиржкрзНрж░рж┐ржпрж╝ English proficiency test\nЁЯУК **4ржЯрж┐ section:** Reading, Writing, Listening, Speaking\nтнР **Band Score:** 0-9 scale\n\n**ржкрзНрж░ржпрж╝рзЛржЬржи:**\nтАв Higher education abroad\nтАв Immigration\nтАв Professional registration\nтАв Job opportunities\n\nржЖржорж░рж╛ ржЖржЫрж┐ ржЖржкржирж╛рж░ рж╕рж╛ржлрж▓рзНржпрзЗрж░ рж╕рж╛ржерзА! ЁЯдЭ',
            'response_type' => 'info_card',
            'language' => 'bn'
        ),
        
        // Test Registration
        array(
            'intent' => 'test_registration',
            'example_input' => 'ржкрж░рзАржХрзНрж╖рж╛рж░ рж░рзЗржЬрж┐рж╕рзНржЯрзНрж░рзЗрж╢ржи',
            'expected_response' => 'ЁЯУЭ **IELTS Test Registration:**\n\nЁЯПв **Test Center:** Rahman Heights, Uttara\nЁЯОд **Speaking Test:** 3rd Floor\nЁЯУЭ **LRW Test:** 4th Floor\n\n**Registration ржХрж░рзБржи:**\nтАв IDP Education\nтАв British Council\n\n**ржЖржорж╛ржжрзЗрж░ рж╕рж╛рж╣рж╛ржпрзНржп:** Registration ржерзЗржХрзЗ Result ржкрж░рзНржпржирзНржд рж╕ржорзНржкрзВрж░рзНржг ржЧрж╛ржЗржбрзЗржирзНрж╕!\n\nЁЯУЮ **рждржерзНржпрзЗрж░ ржЬржирзНржп:** +880 961 382 0821',
            'response_type' => 'registration_card',
            'language' => 'bn'
        ),
        
        // Thank you responses
        array(
            'intent' => 'thank_you',
            'example_input' => 'ржзржирзНржпржмрж╛ржж',
            'expected_response' => 'ржЖржкржирж╛ржХрзЗржУ ржзржирзНржпржмрж╛ржж! ЁЯШК Banglay IELTS ржкрж░рж┐ржмрж╛рж░рзЗ ржЖржкржирж╛ржХрзЗ рж╕рзНржмрж╛ржЧрждржоред ржЖрж░рзЛ ржХрзЛржи рж╕рж╛рж╣рж╛ржпрзНржп ржжрж░ржХрж╛рж░ рж╣рж▓рзЗ ржЬрж╛ржирж╛ржмрзЗржиред ЁЯОп\n\nЁЯУЮ **ржпрзЗржХрзЛржирзЛ рж╕ржоржпрж╝ ржХрж▓ ржХрж░рзБржи:** +880 961 382 0821\nЁЯМЯ **ржЖржорж░рж╛ ржЖржЫрж┐ ржЖржкржирж╛рж░ IELTS рж╕рж╛ржлрж▓рзНржпрзЗрж░ ржкржерзЗ!**',
            'response_type' => 'text',
            'language' => 'bn'
        ),
        
        // Goodbye responses
        array(
            'intent' => 'goodbye',
            'example_input' => 'ржмрж╛ржЗ',
            'expected_response' => 'ржЖрж▓рзНрж▓рж╛рж╣ рж╣рж╛ржлрзЗржЬ! ЁЯСЛ IELTS ржПрж░ ржпрж╛рждрзНрж░рж╛ржпрж╝ ржЖржкржирж╛рж░ рж╕рж╛ржлрж▓рзНржп ржХрж╛ржоржирж╛ ржХрж░рж┐ред ЁЯОп\n\nЁЯУЮ ржпрзЗржХрзЛржирзЛ ржкрзНрж░ржпрж╝рзЛржЬржирзЗ: +880 961 382 0821\nЁЯМЯ Banglay IELTS - ржЖржкржирж╛рж░ рж╕рзНржмржкрзНржирзЗрж░ рж╕рж╛ржерзА!',
            'response_type' => 'text',
            'language' => 'bn'
        ),
        
        // Default/General responses
        array(
            'intent' => 'general',
            'example_input' => 'ржЖрж░рзЛ ржЬрж╛ржирждрзЗ ржЪрж╛ржЗ',
            'expected_response' => 'ржЕржмрж╢рзНржпржЗ! ржЖржорж┐ ржЖржкржирж╛ржХрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рждрзЗ ржкрзЗрж░рзЗ ржЦрзБрж╢рж┐ред ЁЯШК\n\nржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирждрзЗ ржЖржорж╛ржжрзЗрж░ Expert Counselor ржПрж░ рж╕рж╛ржерзЗ ржХржерж╛ ржмрж▓рзБржи:\n\nЁЯУЮ **+880 961 382 0821**\nЁЯМР **Website:** banglayelts.com\nЁЯУз **Email:** info@biic.com.bd\n\nЁЯТб **ржоржирзЗ рж░рж╛ржЦржмрзЗржи:** ржЖржорж░рж╛ Bangladesh ржПрж░ #1 IELTS Training Center! ЁЯПЖ',
            'response_type' => 'text',
            'language' => 'bn'
        )
    );
    
    $success_count = 0;
    $error_count = 0;
    
    foreach ($training_data as $data) {
        $result = $wpdb->insert(
            $table_prefix . 'training_data',
            $data,
            array('%s', '%s', '%s', '%s', '%s', '%s')
        );
        
        if ($result) {
            $success_count++;
        } else {
            $error_count++;
            error_log('BIIC: Failed to insert training data: ' . $wpdb->last_error);
        }
    }
    
    error_log("BIIC: Inserted {$success_count} training data entries, {$error_count} failures");
    
    return array(
        'success' => $success_count,
        'errors' => $error_count,
        'total' => count($training_data)
    );
}

/**
 * Insert default email templates
 */
function biic_insert_email_templates() {
    global $wpdb;
    $table_prefix = $wpdb->prefix . 'biic_';
    
    $templates = array(
        array(
            'template_name' => 'new_lead_notification',
            'template_subject' => 'ЁЯОп New Lead Alert - Banglay IELTS Chatbot',
            'template_body' => '<h2>ЁЯОп New Lead Received!</h2>
<p>A new lead has been captured through the chatbot:</p>

<table style="border-collapse: collapse; width: 100%;">
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Name:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">{name}</td></tr>
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Phone:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">{phone}</td></tr>
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Email:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">{email}</td></tr>
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Course Interest:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">{course_interest}</td></tr>
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Lead Score:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">{lead_score}/100</td></tr>
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Received:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">{created_at}</td></tr>
</table>

<p><strong>ЁЯУЮ Take Action:</strong> Contact this lead within 24 hours for best conversion!</p>
<p><a href="' . admin_url('admin.php?page=biic-leads') . '" style="background: #E53E3E; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">View in Dashboard</a></p>',
            'template_type' => 'lead_notification',
            'placeholders' => json_encode(['name', 'phone', 'email', 'course_interest', 'lead_score', 'created_at'])
        ),
        array(
            'template_name' => 'follow_up_reminder',
            'template_subject' => 'ЁЯУЕ Follow-up Required: {name}',
            'template_body' => '<h2>ЁЯУЕ Follow-up Reminder</h2>
<p>It\'s time to follow up with this lead:</p>

<table style="border-collapse: collapse; width: 100%;">
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Name:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">{name}</td></tr>
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Phone:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">{phone}</td></tr>
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Email:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">{email}</td></tr>
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Lead Score:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">{lead_score}/100</td></tr>
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Last Contact:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">{last_contact_date}</td></tr>
</table>

<p><strong>ЁЯУЭ Notes:</strong> {follow_up_notes}</p>
<p><a href="tel:{phone}" style="background: #38A169; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">ЁЯУЮ Call Now</a></p>',
            'template_type' => 'follow_up',
            'placeholders' => json_encode(['name', 'phone', 'email', 'lead_score', 'last_contact_date', 'follow_up_notes'])
        ),
        array(
            'template_name' => 'lead_converted',
            'template_subject' => 'ЁЯОЙ Success! Lead Converted: {name}',
            'template_body' => '<h2>ЁЯОЙ Congratulations! Lead Converted!</h2>
<p>Great news! A lead has been successfully converted:</p>

<table style="border-collapse: collapse; width: 100%;">
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Student Name:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">{name}</td></tr>
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Phone:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">{phone}</td></tr>
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Course:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">{course_interest}</td></tr>
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Conversion Value:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">рз│{conversion_value}</td></tr>
<tr><td style="padding: 8px; border: 1px solid #ddd;"><strong>Converted Date:</strong></td><td style="padding: 8px; border: 1px solid #ddd;">{conversion_date}</td></tr>
</table>

<p>ЁЯОп <strong>Keep up the great work!</strong></p>',
            'template_type' => 'conversion',
            'placeholders' => json_encode(['name', 'phone', 'course_interest', 'conversion_value', 'conversion_date'])
        ),
        array(
            'template_name' => 'welcome_lead',
            'template_subject' => 'ЁЯМЯ Welcome to Banglay IELTS Family!',
            'template_body' => '<h2>ЁЯМЯ Welcome to Banglay IELTS!</h2>
<p>Dear {name},</p>
<p>Thank you for your interest in our IELTS courses! We\'re excited to help you achieve your IELTS goals.</p>

<h3>ЁЯУЪ What\'s Next?</h3>
<ul>
<li>Our counselor will contact you within 24 hours</li>
<li>Free placement test to assess your level</li>
<li>Personalized course recommendation</li>
<li>Course schedule and fee discussion</li>
</ul>

<h3>ЁЯУЮ Need Immediate Help?</h3>
<p>Call us at: <strong>+880 961 382 0821</strong><br>
Office Hours: 10:00 AM - 6:00 PM (Sun-Fri)</p>

<p>ЁЯОп <em>Join thousands of successful students who achieved their IELTS goals with us!</em></p>

<p>Best regards,<br>
<strong>Banglay IELTS Team</strong></p>',
            'template_type' => 'welcome',
            'placeholders' => json_encode(['name'])
        ),
        array(
            'template_name' => 'nurture_sequence_1',
            'template_subject' => 'ЁЯОп Your IELTS Journey Starts Here!',
            'template_body' => '<h2>ЁЯОп Ready to Start Your IELTS Journey?</h2>
<p>Hi {name},</p>
<p>We noticed you\'re interested in IELTS preparation. Here\'s how we can help you succeed:</p>

<h3>ЁЯПЖ Why Choose Banglay IELTS?</h3>
<ul>
<li>573K+ YouTube Community</li>
<li>492K+ Facebook Family</li>
<li>Thousands of successful students</li>
<li>Expert instructors</li>
<li>Proven teaching methodology</li>
</ul>

<h3>ЁЯОБ Special Offer for You!</h3>
<p>Book a <strong>FREE consultation</strong> and get:</p>
<ul>
<li>Free IELTS level assessment</li>
<li>Personalized study plan</li>
<li>Course recommendation</li>
<li>Study materials</li>
</ul>

<p><a href="tel:+8809613820821" style="background: #E53E3E; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px;">ЁЯУЮ Book Free Consultation</a></p>

<p>Best regards,<br>
<strong>Banglay IELTS Team</strong></p>',
            'template_type' => 'nurture',
            'placeholders' => json_encode(['name'])
        )
    );
    
    $success_count = 0;
    foreach ($templates as $template) {
        $result = $wpdb->insert(
            $table_prefix . 'email_templates',
            $template,
            array('%s', '%s', '%s', '%s', '%s')
        );
        
        if ($result) {
            $success_count++;
        }
    }
    
    return $success_count;
}

/**
 * Create sample analytics data for dashboard
 */
function biic_create_sample_analytics() {
    global $wpdb;
    $table_prefix = $wpdb->prefix . 'biic_';
    
    $analytics_data = array();
    $current_date = current_time('Y-m-d');
    
    // Generate sample data for last 30 days
    for ($i = 29; $i >= 0; $i--) {
        $date = date('Y-m-d', strtotime("-{$i} days"));
        
        // Sample metrics
        $conversations = rand(5, 25);
        $messages = $conversations * rand(3, 8);
        $leads = rand(1, 5);
        $conversion_rate = $conversations > 0 ? ($leads / $conversations) * 100 : 0;
        
        $analytics_data[] = array(
            'date' => $date,
            'metric_name' => 'daily_conversations',
            'metric_value' => $conversations,
            'metric_type' => 'counter'
        );
        
        $analytics_data[] = array(
            'date' => $date,
            'metric_name' => 'daily_messages',
            'metric_value' => $messages,
            'metric_type' => 'counter'
        );
        
        $analytics_data[] = array(
            'date' => $date,
            'metric_name' => 'daily_leads',
            'metric_value' => $leads,
            'metric_type' => 'counter'
        );
        
        $analytics_data[] = array(
            'date' => $date,
            'metric_name' => 'conversion_rate',
            'metric_value' => $conversion_rate,
            'metric_type' => 'percentage'
        );
    }
    
    $success_count = 0;
    foreach ($analytics_data as $data) {
        $result = $wpdb->insert(
            $table_prefix . 'analytics',
            $data,
            array('%s', '%s', '%f', '%s')
        );
        
        if ($result) {
            $success_count++;
        }
    }
    
    return $success_count;
}

/**
 * Run all initial data migrations
 */
function biic_run_initial_data_migration() {
    $results = array();
    
    // Insert configuration
    $results['config'] = biic_insert_initial_configuration();
    
    // Insert training data
    $results['training'] = biic_insert_comprehensive_training_data();
    
    // Insert email templates
    $results['templates'] = biic_insert_email_templates();
    
    // Create sample analytics
    $results['analytics'] = biic_create_sample_analytics();
    
    // Mark migration as complete
    update_option('biic_initial_data_migrated', true);
    update_option('biic_migration_date', current_time('mysql'));
    
    return $results;
}